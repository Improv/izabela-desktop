<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Izabela - Text box</title>
    <link rel="stylesheet" type="text/css" href="assets/dist/css/main.css">
</head>
<body id="body">
    <section id="vision">
        <div id="content">
            <div id="writing">
                <div class="text">
                    <input class="main-input" value="hej, i'm here to help!" type="text">
                </div>
            </div>
            <div id="aura">
                <div class="pulse"></div>
            </div>
        </div>
    </section>
    <script src="./assets/dist/js/main.bundle.js"></script>
    <script>
        const {
            electron,
            ipcRenderer,
            remote
        } = require('electron')
        ipcRenderer.on('shortcut', (event, letter) => {
            $(window).trigger('insertLetter', letter)
        })
        ipcRenderer.on('shortcut-space', (event, letter) => {
            $(window).trigger('spaceLetter', letter)
        })
        ipcRenderer.on('shortcut-delete', (event, letter) => {
            $(window).trigger('deleteLetter', letter)
        })
        ipcRenderer.on('shortcut-validate', (event, letter) => {
            $(window).trigger('validateMessage', letter)
        })
        ipcRenderer.on('clear-message', () => {
            $(window).trigger('clearMessage')
        })
        ipcRenderer.on('global-on', () => {
            $(window).trigger('globalOn')
        })
        ipcRenderer.on('global-off', () => {
            $(window).trigger('globalOff')
        })
        $(window).on('keydown', function(e){
            if(e.which==123){
                e.preventDefault();
                remote.getCurrentWindow().toggleDevTools();
            }
        });
        var soundOn = new Audio('./assets/audio/on.mp3');
        var soundOff = new Audio('./assets/audio/off.mp3');
        var globalActivated = false
        ipcRenderer.on('global-on', () => {
            if (!globalActivated) {
                soundOn.play()
            }
            globalActivated = true
        })
        ipcRenderer.on('global-off', () => {
            if (globalActivated) {
                soundOff.play()
            }
            globalActivated = false
        })
    </script>
</body>
</body>
</html>
